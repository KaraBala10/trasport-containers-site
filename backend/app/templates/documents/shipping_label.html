<!DOCTYPE html>
<html lang="{{ language }}" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shipping Label</title>
    <style>
      @page {
        size: 6in 4in;
        margin: 0;
      }
    
      * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
      }
  
      body {
          font-family: Arial, sans-serif;
          font-size: 10px;
          color: #000;
          padding: 0;
          margin: 0;
          background: #fff;
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
      }

      /* Container */
      .container {
          width: 6in;
          height: 4in;
          padding: 3px;
          border: 2px solid #000;
      }

      /* Header */
      .header {
          display: table;
          width: 100%;
          border-bottom: 2px solid #000;
          padding-bottom: 2px;
          margin-bottom: 3px;
      }

      .header-row {
          display: table-row;
      }

      .header-cell {
          display: table-cell;
          vertical-align: middle;
          padding-right: 3px;
      }

      .logo-cell {
          width: 55px;
          text-align: center;
          vertical-align: middle;
      }

      .logo-cell img {
          max-width: 45px;
          max-height: 24px;
      }

      .company-cell {
          padding-left: 3px;
      }

      .company-name {
          font-size: 9px;
          font-weight: 900;
          margin-bottom: 1px;
          line-height: 1.1;
      }

      .company-tag {
          font-size: 6px;
          font-weight: 700;
          line-height: 1.1;
      }

      .codes-cell {
          width: 110px;
          text-align: center;
      }

      .tracking-cell {
          width: 65px;
          text-align: center;
          background: #000;
          color: #fff;
          padding: 1px;
      }

      .tracking-label {
          font-size: 4px;
          margin-bottom: 0;
          font-weight: 700;
          line-height: 1;
      }

      .tracking-number {
          font-size: 6px;
          font-weight: 900;
          font-family: monospace;
          line-height: 1;
          word-break: break-all;
      }

      .qr-barcode-box {
          border: 1px solid #000;
          padding: 1px;
          display: inline-block;
          vertical-align: top;
      }

      .qr-barcode-box img {
          max-width: 45px;
          height: auto;
          display: block;
          margin: 0 auto;
      }
      
      .codes-wrapper {
          white-space: nowrap;
      }

      /* Three Columns */
      .columns {
          display: table;
          width: 100%;
          margin-bottom: 3px;
      }

      .columns-row {
          display: table-row;
      }

      .column {
          display: table-cell;
          vertical-align: top;
          padding: 4px;
          border: 1px solid #000;
          width: 33.33%;
      }

      .column-title {
          font-size: 8px;
          font-weight: 900;
          border-bottom: 2px solid #000;
          padding-bottom: 2px;
          margin-bottom: 4px;
          text-transform: uppercase;
      }

      .field {
          margin-bottom: 4px;
      }

      .field-label {
          font-size: 7px;
          font-weight: 900;
          margin-bottom: 1px;
      }

      .field-value {
          font-size: 8px;
          font-weight: 700;
          border-bottom: 1px solid #000;
          padding-bottom: 1px;
          min-height: 10px;
      }

      .center-item {
          margin-bottom: 5px;
      }

      .center-item:last-child {
          margin-bottom: 0;
      }

      .center-title {
          font-size: 7px;
          font-weight: 900;
          border-bottom: 1px solid #000;
          padding-bottom: 1px;
          margin-bottom: 2px;
      }

      .center-text {
          font-size: 7px;
          font-weight: 700;
          line-height: 1.2;
      }
      
      .center-text strong {
          font-weight: 900;
      }

      /* Shipping Details */
      .shipping-details {
          border: 1px solid #000;
          padding: 3px;
      }

      .shipping-title {
          font-size: 8px;
          font-weight: 900;
          border-bottom: 2px solid #000;
          padding-bottom: 2px;
          margin-bottom: 3px;
          text-transform: uppercase;
      }

      .method-box {
          background: #000;
          color: #fff;
          text-align: center;
          padding: 3px;
          font-size: 10px;
          font-weight: 900;
          margin-bottom: 3px;
      }

      .parcel-row {
          display: table;
          width: 100%;
          border: 1px solid #000;
      }

      .parcel-row-row {
          display: table-row;
      }

      .parcel-cell {
          display: table-cell;
          width: 33.33%;
          padding: 3px;
          text-align: center;
          border-right: 1px solid #000;
      }

      .parcel-cell:last-child {
          border-right: none;
      }

      .parcel-label {
          font-size: 7px;
          font-weight: 900;
          border-bottom: 1px solid #000;
          padding-bottom: 1px;
          margin-bottom: 2px;
      }

      .parcel-value {
          font-size: 9px;
          font-weight: 900;
      }

      .route-box {
          margin-top: 3px;
          border: 1px solid #000;
          padding: 3px;
          text-align: center;
          font-size: 8px;
          font-weight: 900;
          background: #f0f0f0;
      }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-row">
                <div class="header-cell company-cell">
                    <div class="company-name">Medo-Freight EU</div>
                    <div class="company-tag">Ship · Route · Deliver</div>
                </div>
                <div class="header-cell logo-cell">
                    {% if company and company.logo_base64 %}
                    <img src="data:image/png;base64,{{ company.logo_base64 }}" alt="Logo">
                    {% endif %}
                </div>
                <div class="header-cell codes-cell">
                    <div class="codes-wrapper">
                        {% if barcode_base64 %}
                        <div class="qr-barcode-box" style="margin-right: 2px;">
                            <img src="data:image/png;base64,{{ barcode_base64 }}" alt="Barcode">
                            <div style="font-size: 4px; font-weight: 900; line-height: 1;">TRACK</div>
                        </div>
                        {% endif %}
                        {% if qr_code_base64 %}
                        <div class="qr-barcode-box">
                            <img src="data:image/png;base64,{{ qr_code_base64 }}" alt="QR">
                            <div style="font-size: 4px; font-weight: 900; line-height: 1;">TRACK</div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="header-cell tracking-cell">
                    <div class="tracking-label">TRACK</div>
                    <div class="tracking-number">{{ shipment.shipment_number|default:"______" }}</div>
                </div>
            </div>
        </div>

        <!-- Three Columns -->
        <div class="columns">
            <div class="columns-row">
                <!-- Left: Collection Centers -->
                <div class="column">
                    <div class="column-title">Collection Centers</div>
                    
                    <div class="center-item">
                        <div class="center-title">Company</div>
                        <div class="center-text">
                            <strong>Medo-Freight-EU</strong><br>
                            Phone: 0031683083916<br>
                            Email: contact@medo-freight.eu
                        </div>
                    </div>
                    
                    <div class="center-item">
                        <div class="center-title">Small (&lt;20kg)</div>
                        <div class="center-text">
                            Wattweg 5<br>
                            4622 RA<br>
                            <strong>Storage: 0220-0221</strong>
                        </div>
                    </div>
                    
                    <div class="center-item">
                        <div class="center-title">Large (50+kg)</div>
                        <div class="center-text">
                            Meekrapweg 2<br>
                            4571 RX, Axel<br>
                            <strong>Storage: A2</strong>
                        </div>
                    </div>
                </div>

                <!-- Middle: FROM -->
                <div class="column">
                    <div class="column-title">FROM:</div>
                    
                    <div class="field">
                        <div class="field-label">Name:</div>
                        <div class="field-value">{{ shipment.sender_name|default:"-" }}</div>
                    </div>
                    
                    <div class="field">
                        <div class="field-label">Phone:</div>
                        <div class="field-value">{{ shipment.sender_phone|default:"-" }}</div>
                    </div>
                    
                    <div class="field">
                        <div class="field-label">City:</div>
                        <div class="field-value">{{ shipment.sender_city|default:"-" }}</div>
                    </div>
                    
                    <div class="field">
                        <div class="field-label">Address:</div>
                        <div class="field-value">{{ shipment.sender_address|default:"-" }}</div>
                    </div>
                </div>

                <!-- Right: TO -->
                <div class="column">
                    <div class="column-title">TO:</div>
                    
                    <div class="field">
                        <div class="field-label">Name:</div>
                        <div class="field-value">{{ shipment.receiver_name|default:"-" }}</div>
                    </div>
                    
                    <div class="field">
                        <div class="field-label">Phone:</div>
                        <div class="field-value">{{ shipment.receiver_phone|default:"-" }}</div>
                    </div>
                    
                    <div class="field">
                        <div class="field-label">City:</div>
                        <div class="field-value">{{ shipment.receiver_city|default:"-" }}</div>
                    </div>
                    
                    <div class="field">
                        <div class="field-label">Address:</div>
                        <div class="field-value">{{ shipment.receiver_address|default:"-" }}</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shipping Details -->
        <div class="shipping-details">
            <div class="shipping-title">Shipping & Parcel Details</div>
            
            <div class="method-box">LCL</div>
            
            <div class="parcel-row">
                <div class="parcel-row-row">
                    <div class="parcel-cell">
                        <div class="parcel-label">Packages</div>
                        <div class="parcel-value">{% if parcel and parcel.repeat_count %}{{ parcel.repeat_count }}{% else %}1{% endif %}</div>
                    </div>
                    <div class="parcel-cell">
                        <div class="parcel-label">Weight</div>
                        <div class="parcel-value">{% if parcel and parcel.weight %}{{ parcel.weight }}{% else %}0{% endif %} kg</div>
                    </div>
                    <div class="parcel-cell">
                        <div class="parcel-label">Volume</div>
                        <div class="parcel-value">{% if parcel and parcel.cbm %}{{ parcel.cbm }}{% elif parcel and parcel.volume %}{{ parcel.volume }}{% else %}0{% endif %} m³</div>
                    </div>
                </div>
            </div>
            
            <div class="route-box">
                Route: {% if shipment.direction == 'eu-sy' %}EU → SY{% else %}SY → EU{% endif %}
            </div>
        </div>
    </div>
</body>
</html>
